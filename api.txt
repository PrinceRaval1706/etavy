
This is your final backend contract üì¶

---

# üîê AUTH MODULE

---
 
### 1Ô∏è‚É£ Register

`POST /api/auth/register`

```json
{
  "name": "Bhavy Patel",
  "phone": "7016273019",
  "email": "bhavy@gmail.com",
  "password": "1234",
  "role": "USER"
}
```

---

### 2Ô∏è‚É£ Verify OTP

`POST /api/auth/verify-otp`

```json
{
  "phone": "7016273019",
  "otp": "123456"
}
```

---

### 3Ô∏è‚É£ Resend OTP

`POST /api/auth/resend-otp`

```json
{
  "phone": "7016273019"
}
```

---

### 4Ô∏è‚É£ Login

`POST /api/auth/login`

```json
{
  "phone": "7016273019",
  "password": "1234"
}
```

---

# üë§ USER MODULE (Auth Required)

---

### 5Ô∏è‚É£ Get Profile

`GET /api/user/me`

(no body)

---

### 6Ô∏è‚É£ Update Profile

`PUT /api/user/update`

```json
{
  "name": "Bhavy P Patel",
  "email": "bhavy@etavy.com"
}
```

---

### 7Ô∏è‚É£ Change Password

`PUT /api/user/change-password`

```json
{
  "oldPassword": "1234",
  "newPassword": "5678"
}
```

---

### 8Ô∏è‚É£ Get Roles

`GET /api/user/roles`

---

# üìç ADDRESS MODULE

---

### 9Ô∏è‚É£ Add Address

`POST /api/address`

```json
{
  "lat": 22.3039,
  "lng": 70.8022,
  "city": "Rajkot",
  "pincode": "360001"
}
```

---

### üîü Get Addresses

`GET /api/address`

---

### 1Ô∏è‚É£1Ô∏è‚É£ Delete Address

`DELETE /api/address/:id`

---

# üë®‚Äçüîß PROFESSIONAL MODULE

---

### 1Ô∏è‚É£2Ô∏è‚É£ Apply Professional

`POST /api/professional/apply`

```json
{
  "bio": "5 years electrician experience",
  "experience_years": 5,
  "category_ids": [1],
  "service_city": "Rajkot",
  "radius_km": 15
}
```

---

### 1Ô∏è‚É£3Ô∏è‚É£ Upload Document

`POST /api/professional/document`

(Form-data)

```
document_type: AADHAR
file: image file
```

---

### 1Ô∏è‚É£4Ô∏è‚É£ Get Professional Profile

`GET /api/professional/me`

---

### 1Ô∏è‚É£5Ô∏è‚É£ Professional Status

`GET /api/professional/status`

---

# üè∑Ô∏è CATEGORY MODULE

---

### 1Ô∏è‚É£6Ô∏è‚É£ Get Categories

`GET /api/categories`

---

### 1Ô∏è‚É£7Ô∏è‚É£ Admin Add Category

`POST /api/admin/category`

```json
{
  "name": "Electrician",
  "parent_id": null
}
```

---

# üîç SEARCH MODULE

---

### 1Ô∏è‚É£8Ô∏è‚É£ Search Professionals

`GET /api/search?city=Rajkot&category=Electrician`

---

# üìÖ BOOKING MODULE

---

### 1Ô∏è‚É£9Ô∏è‚É£ Create Booking

`POST /api/bookings/create`

```json
{
  "professional_id": "uuid",
  "category_id": 1,
  "scheduled_at": "2026-02-22T10:30:00",
  "price": 300,
  "is_urgent": false
}
```

---

### 2Ô∏è‚É£0Ô∏è‚É£ Accept Booking (Professional)

`POST /api/professional/job/:id/accept`

---

### 2Ô∏è‚É£1Ô∏è‚É£ Reject Booking (Professional)

`POST /api/professional/job/:id/reject`

```json
{
  "reason": "Not available"
}
```

---

### 2Ô∏è‚É£2Ô∏è‚É£ Start Booking (OTP)

`POST /api/professional/job/:id/start`

```json
{
  "otp": "4567"
}
```

---

### 2Ô∏è‚É£3Ô∏è‚É£ Complete Booking

`POST /api/professional/job/:id/complete`

---

### 2Ô∏è‚É£4Ô∏è‚É£ My Bookings

`GET /api/bookings/my`

---

### 2Ô∏è‚É£5Ô∏è‚É£ Cancel Booking

`POST /api/bookings/:id/cancel`

```json
{
  "reason": "Plan changed"
}
```

---

### 2Ô∏è‚É£6Ô∏è‚É£ Reschedule Booking

`POST /api/bookings/:id/reschedule`

```json
{
  "new_time": "2026-02-25T12:00:00"
}
```

---

# üí¨ CHAT MODULE

---

### 2Ô∏è‚É£7Ô∏è‚É£ Send Message

`POST /api/chat/message`

```json
{
  "booking_id": "uuid",
  "message": "I am arriving in 10 minutes",
  "type": "TEXT"
}
```

---

### 2Ô∏è‚É£8Ô∏è‚É£ Get Messages

`GET /api/chat/:bookingId`

---

# ‚≠ê REVIEW MODULE

---

### 2Ô∏è‚É£9Ô∏è‚É£ Add Review

`POST /api/review`

```json
{
  "booking_id": "uuid",
  "rating": 5,
  "comment": "Very professional service"
}
```

---

### 3Ô∏è‚É£0Ô∏è‚É£ Get Reviews

`GET /api/review/:professionalId`

---

# üí∞ PAYMENT MODULE

---

### 3Ô∏è‚É£1Ô∏è‚É£ Create Order

`POST /api/payment/create-order`

```json
{
  "booking_id": "uuid"
}
```

---

### 3Ô∏è‚É£2Ô∏è‚É£ Verify Payment

`POST /api/payment/verify`

```json
{
  "booking_id": "uuid"
}
```

---

# ‚öñÔ∏è DISPUTE MODULE

---

### 3Ô∏è‚É£3Ô∏è‚É£ Raise Dispute

`POST /api/disputes/create`

```json
{
  "booking_id": "uuid",
  "reason": "Overcharged amount"
}
```

---

# üõ°Ô∏è ADMIN MODULE

---

### 3Ô∏è‚É£4Ô∏è‚É£ Pending Professionals

`GET /api/admin/professionals/pending`

---

### 3Ô∏è‚É£5Ô∏è‚É£ Approve Professional

`PATCH /api/admin/professional/:id/approve`

---

### 3Ô∏è‚É£6Ô∏è‚É£ Reject Professional

`PATCH /api/admin/professional/:id/reject`

---

# üéØ FINAL TOTAL

You actually now have:

### üî• 36 APIs

(Not 32 ‚Äî because booking expanded + admin endpoints expanded)

---

# üèÜ Your Marketplace Backend Is Fully Functional

This is:

* Multi-role
* OTP secured
* Booking lifecycle managed
* Payment lifecycle managed
* Review controlled
* Admin moderated
* Dispute enabled
* Chat enabled

---

